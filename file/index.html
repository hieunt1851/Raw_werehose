<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DEMO RAW MATERIAL</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap 5 JavaScript bundle (đã bao gồm Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <!-- Axios -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <!-- jQuery (nếu muốn dùng song song với axios) -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  
  <!-- Custom -->
  <script src="app.js"></script>
  <link href="app.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-2 mb-2">
    <h2 class="mb-2"><i class="fas fa-warehouse"></i> AI SYSTEM</h2>
    <div class="row">
        <div class="col-lg-6 mb-2">
            <div class="card wrap_sensor">
                <div class="card-header">
                    <div class="d-flex justify-content-between">
                        <h5 class="card-title">Ảnh chụp từ sensor</h5>

                        <button type="button" class="btn btn-sm btn-primary" onclick="photo_take()">
                            <i class="fas fa-camera me-1"></i> Cân & chụp
                        </button>
                    </div>
                </div>
                <div class="card-body body_1">
                    <div class="img_photo">
                        <img src="src/images/no_photo.png" class="rounded border border-1 w-100" />
                    </div>
                </div>
                <div class="card-body body_2 d-none">
                    <div class="img_stats">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">Kết quả phân tích</h5>

                            <div></div>
                        </div>

                        <input type="hidden" name="current_nvl" />

                        <div class="d-flex justify-content-between mt-2">
                            <div class="w-50">
                                <div class="text-center fw-bold">Hình chuẩn</div>
                                <div class="p-2">
                                    <img class="rounded border border-1 w-100 img_1" />
                                </div>
                            </div>
                            <div class="w-50">
                                <div class="text-center fw-bold">Hình chụp</div>
                                <div class="p-2">
                                    <img class="rounded border border-1 w-100 img_2" />
                                </div>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between mt-2">
                            <div>Dự đoán NVL</div>
                            <div class="fw-bold nvl_name"></div>
                        </div>
                        <div class="d-flex justify-content-between mt-2">
                            <div>Định lượng</div>
                            <div class="fw-bold nvl_quantity"></div>
                        </div>
                        <div class="d-flex justify-content-between mt-2">
                            <div>Khác biệt màu sắc</div>
                            <div class="fw-bold nvl_diff"></div>
                        </div>
                        <div class="d-flex justify-content-between mt-2">
                            <div class="dropdown">
                                <button type="button" class="btn btn-sm btn-danger dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="fas fa-bug me-1"></i> Chọn lại NVL đúng
                                </button>
                                <ul class="dropdown-menu nvl_items"></ul>
                            </div>

                            <button type="button" class="btn btn-sm btn-primary" onclick="photo_ok()">
                                <i class="fas fa-check me-1"></i> Đồng ý & lưu trữ
                            </button>
                        </div>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="d-flex justify-content-between">
                        <div></div>

                        <button type="button" class="btn btn-dark" onclick="save_all()">
                            <i class="fas fa-save me-2"></i> Hoàn tất quy trình
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6 mb-2">
            <div class="card wrap_ncc">
                <div class="card-header">
                    <div class="d-flex justify-content-between">
                        <h5 class="card-title">Thông tin nhà cung cấp</h5>
                        <select name="ncc" class="w-50 form-select" onchange="ncc_change(this)">
                            <option value="">Hãy chọn nhà cung cấp</option>
                            <option value="meat">CTY Meat</option>
                            <option value="seafood">CTY Seafood</option>
                        </select>
                    </div>

                    <input type="hidden" name="current_ncc" />
                </div>
                <div class="card-body">
                    <div class="d-flex justify-content-between mt-1">
                        <div>Mã NCC</div>
                        <div class="fw-bold ncc_code"></div>
                    </div>

                    <div class="d-flex justify-content-between mt-1">
                        <div>Tên NCC</div>
                        <div class="fw-bold ncc_name"></div>
                    </div>

                    <div class="d-flex justify-content-between mt-1">
                        <div>Điện thoại</div>
                        <div class="fw-bold ncc_phone"></div>
                    </div>
                </div>
            </div>

            <div class="card wrap_po mt-4">
                <div class="card-header">
                    <div class="d-flex justify-content-between">
                        <h5 class="card-title">Thông tin đơn hàng</h5>

                        <button type="button" class="btn btn-sm btn-primary" onclick="po_view()">
                            <i class="fas fa-eye me-1"></i> Xem chi tiết
                        </button>
                    </div>
                </div>
                <div class="card-body datas_po">
                    <div></div>
                </div>
            </div>

            <div class="card wrap_saved mt-4">
                <div class="card-header">
                    <h5 class="card-title">Thông tin đã lưu trữ</h5>
                </div>
                <div class="card-body">
                    <div class="saved_item nvl_thit_bo">
                        <div class="table-responsive">
                            <table class="table table-bordered">
                                <thead class="table-light">
                                    <tr>
                                        <th>NVL_THIT001 - Thịt bò</th>
                                        <th class="text-center">Định lượng</th>
                                        <th class="text-center" style="font-size: 10px;">Khác biệt <br/> màu sắc</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="saved_item nvl_thit_ga d-none">
                        <div class="table-responsive">
                            <table class="table table-bordered">
                                <thead class="table-light">
                                    <tr>
                                        <th>NVL_THIT002 - Thịt gà</th>
                                        <th class="text-center">Định lượng</th>
                                        <th class="text-center" style="font-size: 10px;">Khác biệt <br/> màu sắc</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="saved_item nvl_thit_heo d-none">
                        <div class="table-responsive">
                            <table class="table table-bordered">
                                <thead class="table-light">
                                    <tr>
                                        <th>NVL_THIT003 - Thịt heo</th>
                                        <th class="text-center">Định lượng</th>
                                        <th class="text-center" style="font-size: 10px;">Khác biệt <br/> màu sắc</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="saved_item nvl_tom_su d-none">
                        <div class="table-responsive">
                            <table class="table table-bordered">
                                <thead class="table-light">
                                    <tr>
                                        <th>NVL_HS004 - Tôm sú</th>
                                        <th class="text-center">Định lượng</th>
                                        <th class="text-center" style="font-size: 10px;">Khác biệt <br/> màu sắc</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="saved_item nvl_muc_la d-none">
                        <div class="table-responsive">
                            <table class="table table-bordered">
                                <thead class="table-light">
                                    <tr>
                                        <th>NVL_HS005 - Mực lá</th>
                                        <th class="text-center">Định lượng</th>
                                        <th class="text-center" style="font-size: 10px;">Khác biệt <br/> màu sắc</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
  </div>

    <div id="popup_ncc_change" class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="d-flex justify-content-between w-100">
                        <div class="fw-bold text-uppercase">Thay đổi NCC</div>
                        <button data-bs-dismiss="modal" type="button" class="btn btn-sm btn-secondary" onclick="ncc_change_confirm()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                <div class="modal-body">
                    <div>Thay đổi NCC sẽ reset toàn bộ thông tin đơn hàng & ảnh chụp. Bạn có chắc muốn thay đổi?</div>
                </div>
                <div class="modal-footer">
                    <div class="d-flex justify-content-between w-100">
                        <button data-bs-dismiss="modal" type="button" onclick="ncc_change_confirm()" class="btn btn-sm btn-dark">Không</button>

                        <button data-bs-dismiss="modal" type="button" onclick="ncc_change_confirm(1)" class="btn btn-sm btn-primary">Đồng ý</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="popup_po_view" class="modal fade" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="d-flex justify-content-between w-100">
                        <div class="fw-bold text-uppercase">Chi tiết đơn hàng</div>
                        <button data-bs-dismiss="modal" type="button" class="btn btn-sm btn-secondary">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                <div class="modal-body">
                    
                </div>
            </div>
        </div>
    </div>

    <div id="popup_save_all" class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="d-flex justify-content-between w-100">
                        <div class="fw-bold text-uppercase">Xác nhận hoàn tất</div>
                        <button data-bs-dismiss="modal" type="button" class="btn btn-sm btn-secondary">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                <div class="modal-body">
                    
                </div>
                <div class="modal-footer">
                    <div class="d-flex justify-content-between w-100">
                        <button data-bs-dismiss="modal" type="button" class="btn btn-sm btn-dark">Không</button>

                        <button data-bs-dismiss="modal" type="button" class="btn btn-sm btn-primary" onclick="save_confirm()">Đồng ý</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
